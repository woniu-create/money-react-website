{"version":3,"sources":["icons sync /.svg$","icons/delect.svg","icons/edit.svg","icons/left.svg","icons/money.svg","icons/right.svg","icons/statics.svg","icons/tag.svg","components/Icon.tsx","components/Nav.tsx","components/Layout.tsx","lib/createId.tsx","hooks/useUpdate.tsx","hooks/useTags.tsx","components/Button.tsx","components/Center.tsx","components/Space.tsx","views/Tags.tsx","Money/TagsSection.tsx","components/Input.tsx","Money/NotesSection.tsx","Money/CategorySection.tsx","Money/NumberPadSection.tsx","hooks/useRecords.tsx","views/Money.tsx","views/Statistics.tsx","views/NoMatch.tsx","views/Tag.tsx","App.tsx","index.tsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","symbol","add","requireContext","require","forEach","error","console","log","Icon","props","name","children","className","rest","classnames","xlinkHref","NavWrapper","styled","nav","Nav","to","activeClassName","Wrapper","div","Main","Layout","mainRef","useRef","useEffect","setTimeout","current","scrollTop","ref","data-x","defaultProps","parseInt","window","localStorage","getItem","createId","setItem","JSON","stringify","useUpdate","fn","dependency","count","useTags","useState","tags","setTags","localTags","parse","length","findTag","filter","tag","updateTag","findTagIndex","result","i","deleteTag","addTag","tagName","prompt","alert","getName","t","Button","button","Center","Space","TagList","ol","Tags","onClick","section","TagsSection","selectedTagIds","value","tagId","indexOf","onChange","Label","label","Input","NotesSection","note","type","target","placeholder","CategorySection","categoryMap","categoryList","category","c","NumberPadSection","toString","output","_setOutput","setOutput","newOutput","slice","parseFloat","text","textContent","onOK","useRecords","records","setRecords","addRecord","newRecord","amount","tagIds","record","createAt","Date","toISOString","CategoryWrapper","MyLayout","defaultFormDate","Money","selected","setSelected","Item","Header","h3","NoRecord","Statistics","setCategory","hash","r","key","day","format","push","array","entries","sort","a","b","collect","date","reduce","span","index","concat","NoMatch","Topbar","header","InputWrapper","Tag","idString","useParams","history","useHistory","goBack","tagContent","AppWrapper","App","exact","path","from","ReactDOM","render","StrictMode","document","getElementById","onload","scrollTo"],"mappings":"yHAAA,IAAIA,EAAM,CACT,eAAgB,GAChB,aAAc,GACd,aAAc,GACd,cAAe,GACf,cAAe,GACf,gBAAiB,GACjB,YAAa,IAId,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOG,EAAoBF,GAE5B,SAASC,EAAsBF,GAC9B,IAAIG,EAAoBC,EAAEN,EAAKE,GAAM,CACpC,IAAIK,EAAI,IAAIC,MAAM,uBAAyBN,EAAM,KAEjD,MADAK,EAAEE,KAAO,mBACHF,EAEP,OAAOP,EAAIE,GAEZD,EAAeS,KAAO,WACrB,OAAOC,OAAOD,KAAKV,IAEpBC,EAAeW,QAAUR,EACzBS,EAAOC,QAAUb,EACjBA,EAAeE,GAAK,I,gCC5BpB,2CAEIY,EAAS,IAAI,IAAa,CAC5B,GAAM,SACN,IAAO,eACP,QAAW,gBACX,QAAW,mhBAEA,IAAOC,IAAID,GACT,a,gCCTf,2CAEIA,EAAS,IAAI,IAAa,CAC5B,GAAM,OACN,IAAO,aACP,QAAW,gBACX,QAAW,y8BAEA,IAAOC,IAAID,GACT,a,gCCTf,2CAEIA,EAAS,IAAI,IAAa,CAC5B,GAAM,OACN,IAAO,aACP,QAAW,gBACX,QAAW,+OAEA,IAAOC,IAAID,GACT,a,gCCTf,2CAEIA,EAAS,IAAI,IAAa,CAC5B,GAAM,QACN,IAAO,cACP,QAAW,gBACX,QAAW,mVAEA,IAAOC,IAAID,GACT,a,gCCTf,2CAEIA,EAAS,IAAI,IAAa,CAC5B,GAAM,QACN,IAAO,cACP,QAAW,gBACX,QAAW,0TAEA,IAAOC,IAAID,GACT,a,gCCTf,2CAEIA,EAAS,IAAI,IAAa,CAC5B,GAAM,UACN,IAAO,gBACP,QAAW,gBACX,QAAW,shCAEA,IAAOC,IAAID,GACT,a,gCCTf,2CAEIA,EAAS,IAAI,IAAa,CAC5B,GAAM,MACN,IAAO,YACP,QAAW,gBACX,QAAW,29BAEA,IAAOC,IAAID,GACT,a,2CCPEE,E,6GACjB,KADiBA,EACFC,OADuER,OAAOS,QAAQF,GAC1C,MAAOG,IAAQC,QAAQC,IAAIF,IAItF,I,MAQeG,EARF,SAACC,GACgCA,EAAnCC,KAAmCD,EAA9BE,SAAZ,IAAqBC,EAAqBH,EAArBG,UAAaC,EAAlC,YAA0CJ,EAA1C,iCACA,OACI,6CAAKG,UAAWE,IAAW,OAAOF,IAAgBC,GAAlD,aACIJ,EAAMC,MAAM,qBAAKK,UAAW,IAAIN,EAAMC,WCL5CM,EAAaC,IAAOC,IAAV,wjBAuDCC,EA1BL,WACR,OACG,cAACH,EAAD,UACI,+BACI,6BACI,eAAC,IAAD,CAASI,GAAG,QAAQC,gBAAgB,WAApC,UACI,cAAC,EAAD,CAAMX,KAAK,QADf,0BAKJ,6BACI,eAAC,IAAD,CAASU,GAAG,SAASC,gBAAgB,WAArC,UACI,cAAC,EAAD,CAAMX,KAAK,UADf,0BAKJ,6BACI,eAAC,IAAD,CAASU,GAAG,cAAcC,gBAAgB,WAA1C,UACI,cAAC,EAAD,CAAMX,KAAK,YADf,gCCjDbY,EAAUL,IAAOM,IAAV,0FAKPC,EAAOP,IAAOM,IAAV,gEAQJE,EAA0B,SAAChB,GAC/B,IAAMiB,EAAUC,iBAAuB,MASvC,OARAC,qBAAU,WACRC,YAAW,WACJH,EAAQI,UACbxB,QAAQC,IAAIE,EAAMsB,WAClBL,EAAQI,QAAQC,UAAYtB,EAAMsB,UAClCzB,QAAQC,IAAImB,EAAQI,QAAQC,cAC3B,KACF,CAACtB,EAAMsB,YAER,eAACT,EAAD,WACI,cAACE,EAAD,CAAMQ,IAAKN,EAASd,UAAWH,EAAMG,UAAWqB,SAAQ,QAAxD,SACKxB,EAAME,WAEX,cAAC,EAAD,QAIRc,EAAOS,aAAe,CACpBH,UAAU,GAEGN,I,QAAAA,I,eCtCXrC,EAAK+C,SAASC,OAAOC,aAAaC,QAAQ,UAAY,KACpDC,EAAU,WAGZ,OAFAnD,GAAK,EACLgD,OAAOC,aAAaG,QAAQ,QAAQC,KAAKC,UAAUtD,IAC5CA,GCHLuD,EAAY,SAACC,EAAeC,GAC9B,IAAMC,EAAOnB,iBAAO,GACpBC,qBAAU,WACNkB,EAAMhB,SAAW,KAErBF,qBAAU,WACHkB,EAAMhB,QAAS,GACdc,MAEN,CAACA,EAAGC,KCNJE,EAAU,WAEZ,MAAuBC,mBAAqC,IAA5D,mBAAOC,EAAP,KAAYC,EAAZ,KACAtB,qBAAU,WACR,IAAIuB,EAAWV,KAAKW,MAAMhB,OAAOC,aAAaC,QAAQ,SAAW,MACxC,IAArBa,EAAUE,SACVF,EAAY,CACV,CAAE/D,GAAGmD,IAAW7B,KAAM,UACtB,CAAEtB,GAAGmD,IAAW7B,KAAM,UACtB,CAAEtB,GAAGmD,IAAW7B,KAAM,UACtB,CAAEtB,GAAGmD,IAAW7B,KAAM,YAG3BwC,EAAQC,KACT,IACHR,GAAU,WAAOP,OAAOC,aAAaG,QAAQ,OAAOC,KAAKC,UAAUO,MAAQA,GA4C1E,MAAO,CAACA,OAAKC,UAAQI,QA3CL,SAAClE,GAAD,OAAgB6D,EAAKM,QAAO,SAAAC,GAAG,OAAIA,EAAIpE,KAAOA,KAAI,IA2CrCqE,UA1BX,SAACrE,EAAD,GAAwC,IAA3BsB,EAA0B,EAA1BA,KAC3BwC,EAAQD,EAAKhE,KAAI,SAAAuE,GAAG,OAAIA,EAAIpE,KAAOA,EAAK,CAACA,KAAGsB,KAAKA,GAAQ8C,OAyBtBE,aA1ClB,SAACtE,GAElB,IADA,IAAIuE,GAAU,EACLC,EAAE,EAAGA,EAAEX,EAAKI,OAAQO,IACzB,GAAGX,EAAKW,GAAGxE,KAAOA,EAAI,CAClBuE,EAASC,EACT,MAGR,OAAOD,GAkCyCE,UAjBlC,SAACzE,GACf8D,EAAQD,EAAKM,QAAO,SAAAC,GAAG,OAAIA,EAAIpE,KAAOA,OAgBoB0E,OAdhD,WACV,IAAMC,EAAU3B,OAAO4B,OAAO,8CAC9B1D,QAAQC,IAAIwD,GACRA,EAGFb,EAAQ,GAAD,mBAAKD,GAAL,CAAU,CAAC7D,GAAImD,IAAW7B,KAAMqD,MAFrC3B,OAAO6B,MAAM,+CAUgDC,QAJrD,SAAC9E,GACb,IAAMoE,EAAMP,EAAKM,QAAO,SAAAY,GAAC,OAAEA,EAAE/E,KAAKA,KAAI,GACtC,OAAOoE,EAAMA,EAAI9C,KAAO,MC5D1B0D,EAASnD,IAAOoD,OAAV,iJCCNC,EAASrD,IAAOM,IAAV,0HCDNgD,EAAQtD,IAAOM,IAAV,6CCSLiD,EAAUvD,IAAOwD,GAAV,iUAsCGC,I,cAAAA,EAtBhB,WACI,MAAsB3B,IAAfE,EAAP,EAAOA,KAAKa,EAAZ,EAAYA,OACZ,OACI,eAAC,EAAD,WACI,cAACU,EAAD,UACEvB,EAAKhE,KAAI,SAAAuE,GAAG,OACb,6BACE,eAAC,IAAD,CAAMpC,GAAI,SAASoC,EAAIpE,GAAvB,UACE,sBAAMwB,UAAU,UAAhB,SAA2B4C,EAAI9C,OAC/B,cAAC,EAAD,CAAMA,KAAK,cAHN8C,EAAIpE,SAOd,eAACkF,EAAD,WACI,cAACC,EAAD,IACA,cAACA,EAAD,IACA,cAACA,EAAD,IACA,cAACH,EAAD,CAAQO,QAASb,EAAjB,6CCvCVxC,EAAUL,IAAO2D,QAAV,+mBAmCPC,EAA+B,SAACpE,GAElC,MAAsBsC,IAAfE,EAAP,EAAOA,KAAKa,EAAZ,EAAYA,OACNgB,EAAiBrE,EAAMsE,MAW7B,OACI,eAAC,EAAD,WACI,6BACK9B,EAAKhE,KAAI,SAAAuE,GAAG,OAAE,oBAAiBmB,QAAW,WAZnC,IAACK,IAYmDxB,EAAIpE,GAX7D0F,EAAeG,QAAQD,IAC1B,EACTvE,EAAMyE,SAASJ,EAAevB,QAAO,SAAAY,GAAC,OAAEA,IAAMa,MAE7CvE,EAAMyE,SAAN,sBAAmBJ,GAAnB,CAAkCE,MAO4CpE,UAAakE,EAAeG,QAAQzB,EAAIpE,KAAO,EAAI,WAAa,GAAvH,SAA4HoE,EAAI9C,MAAvH8C,EAAIpE,SAEhC,wBAAQuF,QAASb,EAAjB,0CCvDNqB,EAAQlE,IAAOmE,MAAV,gQAkBHC,EAAyB,SAAC5E,GACKA,EAA5B2E,MAA4B3E,EAArBE,SAAd,IAA2BE,EAA3B,YAAmCJ,EAAnC,sBACA,OACE,eAAC0E,EAAD,WACE,+BAAO1E,EAAM2E,QACb,qCAAWvE,QCtBbS,EAAUL,IAAO2D,QAAV,6FAWPU,GAAgC,SAAC7E,GAQrC,IAAM8E,EAAO9E,EAAMsE,MAIjB,OACI,cAAC,EAAD,UACN,cAAC,EAAD,CAAOK,MAAM,eAAKI,KAAK,OAAOT,MAAOQ,EAAML,SALY,SAAC1F,GACtDiB,EAAMyE,SAAS1F,EAAEiG,OAAOV,QAIqCW,YAAY,sCC1BvEpE,GAASL,IAAO2D,QAAT,yZA0BPe,GAAmC,SAAClF,GAC1C,IAAMmF,EAAc,CAAC,IAAK,eAAK,IAAK,gBACpC,EAAuB5C,mBAAwB,CAAC,IAAI,MAA7C6C,EAAP,oBAEMC,EAAWrF,EAAMsE,MACnB,OACC,cAAC,GAAD,UACI,6BACGc,EAAa5G,KAAI,SAAA8G,GAAC,OAAE,oBAAYpB,QAAS,WAAKlE,EAAMyE,SAASa,IAAKnF,UAAWkF,IAAaC,EAAG,WAAa,GAAtF,SAA2FH,EAAYG,IAA9FA,WClCnCzE,GAAUL,IAAO2D,QAAV,qkCAqDPoB,GAAoC,SAACvF,GAGvC,MAA4BuC,mBAASvC,EAAMsE,MAAMkB,YAAjD,mBAAOC,EAAP,KAAcC,EAAd,KACMC,EAAY,SAACF,GACjB,IAAIG,EAEDA,EADCH,EAAO7C,OAAO,GACH6C,EAAOI,MAAM,EAAE,IACF,IAAlBJ,EAAO7C,OACF,IAED6C,EAEbC,EAAWE,GACX5F,EAAMyE,SAASqB,WAAWF,KA2C7B,OACI,eAAC,GAAD,WACQ,qBAAKzF,UAAU,SAAf,SACGsF,IAEH,sBAAKtF,UAAU,eAAe+D,QA9Cb,SAACnF,GAC7B,IAAMgH,EAAQhH,EAAEiG,OAA4BgB,YAC5C,GAAY,OAATD,EACH,OAAQA,GACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IAEHJ,EADa,MAAXF,EACQM,EAECN,EAASM,GAErB,MACA,IAAK,IACL,GAAGN,EAAOjB,QAAQ,MAAM,EAAI,OAC5BmB,EAAUF,EAAS,KACnB,MACD,IAAK,eACkB,IAAlBA,EAAO7C,OACR+C,EAAU,IAEVA,EAAUF,EAAOI,MAAM,GAAG,IAE5B,MACF,IAAK,eACHF,EAAU,IACV,MACF,IAAK,KACA3F,EAAMiG,MACPjG,EAAMiG,SAUF,UACI,uCACA,uCACA,uCACA,kDACA,uCACA,uCACA,uCACA,kDACA,uCACA,uCACA,uCACA,wBAAQ9F,UAAU,KAAlB,gBACA,wBAAQA,UAAU,OAAlB,eACA,wBAAQA,UAAU,MAAlB,sBCzHd+F,GAAa,WACf,MAA6B3D,mBAAuB,IAApD,mBAAO4D,EAAP,KAAeC,EAAf,KACAjF,qBAAW,WACViF,EAAWpE,KAAKW,MAAMhB,OAAOC,aAAaC,QAAQ,YAAc,SAC/D,IACFK,GAAU,WACRP,OAAOC,aAAaG,QAAQ,UAAUC,KAAKC,UAAUkE,MACrDA,GAcF,MAAO,CAACA,UAAQE,UAbE,SAACC,GACf,GAAIA,EAAUC,QAAU,EAEpB,OADA/C,MAAM,mCACC,EAEX,GAA+B,IAA5B8C,EAAUE,OAAO5D,OAEhB,OADAY,MAAM,mCACC,EAEX,IAAMiD,EAAM,2BAAOH,GAAP,IAAiBI,UAAW,IAAIC,MAAQC,gBAEpD,OADAR,EAAW,GAAD,mBAAKD,GAAL,CAAaM,MAChB,KCrBTI,GAAkBrG,IAAOM,IAAV,0DAIfgG,GAAWtG,YAAOQ,EAAPR,CAAH,yEAMRuG,GAAkB,CACtBP,OAAQ,GACR1B,KAAM,GACNO,SAAU,IACVkB,OAAQ,GAuBKS,I,YAAAA,GApBf,WACE,MAA+BzE,mBAASwE,IAAxC,mBAAOE,EAAP,KAAgBC,EAAhB,KACOb,EAAaH,KAAbG,UAOL,OACI,eAACS,GAAD,CAAUxF,UAAW,IAArB,UACG,cAACuF,GAAD,UACA,cAAC,GAAD,CAAiBvC,MAAO2C,EAAS5B,SAAUZ,SAAU,SAACY,GAAD,OAAY6B,EAAY,2BAAID,GAAL,IAAc5B,SAASA,UAEnG,cAAC,EAAD,CAAaf,MAAO2C,EAAST,OAAQ/B,SAAU,SAAC+B,GAAD,OAAUU,EAAY,2BAAID,GAAL,IAAcT,OAAOA,QACzF,cAAC,GAAD,CAAclC,MAAO2C,EAASnC,KAAML,SAAU,SAACK,GAAD,OAAQoC,EAAY,2BAAID,GAAL,IAAcnC,KAAKA,QACpF,cAAC,GAAD,CAAkBR,MAAO2C,EAASV,OAAQ9B,SAAU,SAAC8B,GAAD,OAAUW,EAAY,2BAAID,GAAL,IAAcV,OAAOA,MAAUN,KAblG,WACVI,EAAUY,KACXzD,MAAM,4BACN0D,EAAYH,Y,oBCxBZF,GAAkBrG,IAAOM,IAAV,sDAGfqG,GAAO3G,IAAOM,IAAV,6PAaJsG,GAAQ5G,IAAO6G,GAAT,8FAKNC,GAAW9G,IAAO6G,GAAV,wEAkECE,OA7Df,WACI,MAA+BhF,mBAAmB,KAAlD,mBAAO8C,EAAP,KAAgBmC,EAAhB,KACOrB,EAAWD,KAAXC,QACA1C,EAAWnB,IAAXmB,QACDgE,EAAoC,GAClBtB,EAAQrD,QAAO,SAAA4E,GAAC,OAAIA,EAAErC,WAAaA,KAC3C1F,SAAQ,SAAA+H,GACpB,IAAMC,EAAMC,KAAIF,EAAEhB,UAAUmB,OAAO,cAC9BF,KAAOF,IACRA,EAAKE,GAAO,IAEhBF,EAAKE,GAAKG,KAAKJ,MAKnB,IAAMK,EAAQ5I,OAAO6I,QAAQP,GAAMQ,MAAK,SAACC,EAAEC,GACvC,OAAGD,EAAE,KAAOC,EAAE,GAAW,EACtBD,EAAE,GAAKC,EAAE,IAAY,EACrBD,EAAE,GAAKC,EAAE,GAAW,EAChB,KAEXtI,QAAQC,IAAIiI,GACZlI,QAAQC,IAAIqG,GAEZ,IAAMiC,EAAS,8BACNL,EAAMvJ,KAAI,mCAAE6J,EAAF,KAAOlC,EAAP,YAAoB,gCAC3B,cAACiB,GAAD,UAASiB,IACb,8BACKlC,EAAQ3H,KAAI,SAAAkJ,GACb,OAAO,eAACP,GAAD,WACH,qBAAKhH,UAAU,eAAf,SACKuH,EAAElB,OACFhI,KAAI,SAAA+F,GAAK,OAAI,+BAAmBd,EAAQc,IAAhBA,MACxB+D,QAAO,SAACpF,EAAOqF,EAAKC,EAAMT,GAAnB,OACJ7E,EAAOuF,OAAOD,EAAQT,EAAMnF,OAAO,EAAI,CAAC2F,EAAK,KAAO,CAACA,MAAO,MAInEb,EAAE5C,MAAQ,qBAAK3E,UAAU,OAAf,SACPuH,EAAE5C,OAEN,sBAAK3E,UAAU,SAAf,mBAA0BuH,EAAEnB,0BAS5C,OACI,eAAC,EAAD,WACI,cAAC,GAAD,UACA,cAAE,GAAF,CAAkBjC,MAAOe,EAAUZ,SAAU,SAACH,GAAD,OAASkD,EAAYlD,QAE9C,IAAnB6B,EAAQvD,OAAe,cAAC0E,GAAD,+DAA+Bc,MCnFlDM,I,SAAAA,GALjB,WACI,OACI,mECOFC,GAASnI,IAAOoI,OAAV,yKAQNC,GAAerI,IAAOM,IAAV,4FAQZgI,GAAgB,SAAC9I,GACrB,MAA0CsC,IAAlCO,EAAR,EAAQA,QAASG,EAAjB,EAAiBA,UAAWI,EAA5B,EAA4BA,UACjB2F,EAAaC,cAAjBrK,GACDoE,EAAMF,EAAQnB,SAASqH,IA4BvBE,EAAUC,cAIhB,OACE,eAAC,EAAD,WACE,eAACP,GAAD,WACE,cAAC,EAAD,CAAM1I,KAAK,OAAOiE,QANJ,WACnB+E,EAAQE,YAMH,2DACA,cAAC,EAAD,OAEDpG,EAtCc,SAACA,GAAD,OACjB,gCACE,cAAC8F,GAAD,UACE,cAAC,EAAD,CACElE,MAAM,qBACNI,KAAK,OACLE,YAAY,qBACZX,MAAOvB,EAAI9C,KACXwE,SAAU,SAAC1F,GACTiE,EAAUD,EAAIpE,GAAI,CAAEsB,KAAMlB,EAAEiG,OAAOV,aAIzC,eAACT,EAAD,WACE,cAACC,EAAD,IACA,cAACA,EAAD,IACA,cAACA,EAAD,IACA,cAACH,EAAD,CACEO,QAAS,WACPd,EAAUL,EAAIpE,KAFlB,4CAqBKyK,CAAWrG,GAAO,cAACc,EAAD,wCC5DzBwF,GAAY7I,IAAOM,IAAT,qFA+BDwI,OA1Bf,WACI,OACI,cAACD,GAAD,UACA,cAAC,IAAD,UACI,eAAC,IAAD,WACI,cAAC,IAAD,CAAOE,OAAK,EAACC,KAAK,QAAlB,SACI,cAAC,EAAD,MAEJ,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,YAAlB,SACI,cAAC,GAAD,MAEJ,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,SAAlB,SACI,cAAC,GAAD,MAEJ,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,cAAlB,SACI,cAAC,GAAD,MAEJ,cAAC,IAAD,CAAUD,OAAK,EAACE,KAAK,IAAI9I,GAAG,WAC5B,cAAC,IAAD,CAAO6I,KAAK,IAAZ,SACI,cAAC,GAAD,cC3BpBE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,SAI1BnI,OAAOoI,OAAO,WAAW3I,YAAW,WAAYO,OAAOqI,SAAS,EAAG,OAAQ,M","file":"static/js/main.823434c3.chunk.js","sourcesContent":["var map = {\n\t\"./delect.svg\": 41,\n\t\"./edit.svg\": 42,\n\t\"./left.svg\": 43,\n\t\"./money.svg\": 44,\n\t\"./right.svg\": 45,\n\t\"./statics.svg\": 46,\n\t\"./tag.svg\": 47\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 40;","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"delect\",\n  \"use\": \"delect-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"delect\\\"><path d=\\\"M874.667 256v512A170.667 170.667 0 0 1 704 938.667H320A170.667 170.667 0 0 1 149.333 768V256H128a32 32 0 0 1 0-64h768a32 32 0 0 1 0 64h-21.333zm-661.334 0v512A106.667 106.667 0 0 0 320 874.667h384A106.667 106.667 0 0 0 810.667 768V256H213.333zM384 149.333a32 32 0 0 1 0-64h256a32 32 0 0 1 0 64H384zm-10.667 277.334a32 32 0 0 1 64 0v256a32 32 0 0 1-64 0v-256zm213.334 0a32 32 0 0 1 64 0v256a32 32 0 0 1-64 0v-256z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"edit\",\n  \"use\": \"edit-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"edit\\\"><path d=\\\"M288 896H96c-17.7 0-32-14.3-32-32s14.3-32 32-32h192c17.7 0 32 14.3 32 32s-14.3 32-32 32zM608 896H416c-17.7 0-32-14.3-32-32s14.3-32 32-32h192c17.7 0 32 14.3 32 32s-14.3 32-32 32zM928 896H736c-17.7 0-32-14.3-32-32s14.3-32 32-32h192c17.7 0 32 14.3 32 32s-14.3 32-32 32zM148.6 768H64v-84.6c0-28.2 5.5-55.8 16.3-81.9 10.8-26.1 26.4-49.4 46.4-69.4L572.2 86.6c18.1-18.1 42.2-28.1 67.8-28.1s49.7 10 67.8 28.1l37.6 37.6c18.1 18.1 28.1 42.2 28.1 67.8s-10 49.7-28.1 67.8L299.9 705.3c-20 20-43.3 35.6-69.4 46.4-26.1 10.8-53.6 16.3-81.9 16.3zM128 704h20.6c40 0 77.7-15.6 106-43.9l445.5-445.5c12.4-12.4 12.4-32.7 0-45.1l-37.6-37.6c-12.4-12.4-32.7-12.4-45.1 0L171.9 577.3c-28.3 28.3-43.9 66-43.9 106V704z\\\" /><path d=\\\"m489.375 214.637 45.254-45.255 127.985 127.986-45.254 45.254-127.985-127.985zM137.355 598.612l45.255-45.254 96.024 96.024-45.255 45.254-96.024-96.024z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"left\",\n  \"use\": \"left-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"left\\\"><path d=\\\"m410.18 512 271.53-271.53a32 32 0 0 0-45.26-45.25L342.29 489.37a32 32 0 0 0 0 45.25l294.16 294.16a32 32 0 1 0 45.26-45.25z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"money\",\n  \"use\": \"money-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"money\\\"><path d=\\\"M463.3 958.3V772.1H228.8v-77.5h234.5v-80.5H228.8v-83.5H420L191.5 128h113.7L469 420.6c18.2 33.4 32.4 62.4 42.7 86.9 9-19.8 24.6-50.5 46.8-92.1L713.9 128h120.8L605.5 530.6h192.9v83.5H564.9v80.5h233.5v77.5H564.9v186.2H463.3z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"right\",\n  \"use\": \"right-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"right\\\"><path d=\\\"M352 928c-8 0-16-3.2-22.4-9.6-12.8-12.8-12.8-32 0-44.8L691.2 512 329.6 150.4c-12.8-12.8-12.8-32 0-44.8 12.8-12.8 32-12.8 44.8 0l384 384c12.8 12.8 12.8 32 0 44.8l-384 384C368 924.8 360 928 352 928z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"statics\",\n  \"use\": \"statics-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"statics\\\"><path d=\\\"M273.067 798.72H157.013c-6.826 0-13.653-6.827-13.653-13.653V571.164c0-6.826 6.827-13.653 13.653-13.653h116.054c6.826 0 13.653 6.827 13.653 13.653v213.903c0 6.826-4.551 13.653-13.653 13.653zm195.697 0H350.436c-6.827 0-13.654-6.827-13.654-13.653V288.996c0-6.827 6.827-13.654 13.654-13.654h118.328c6.827 0 13.654 6.827 13.654 13.654v496.07c0 6.827-6.827 13.654-13.654 13.654zm195.698 0H546.133c-6.826 0-13.653-6.827-13.653-13.653V427.804c0-6.826 6.827-13.653 13.653-13.653h118.33c6.826 0 13.653 6.827 13.653 13.653v357.263c0 6.826-6.827 13.653-13.654 13.653zm195.698 0H741.831c-6.827 0-13.653-6.827-13.653-13.653v-634.88c0-6.827 6.826-13.654 13.653-13.654H860.16c6.827 0 13.653 6.827 13.653 13.654v634.88c0 6.826-6.826 13.653-13.653 13.653zm20.48 100.124H134.258c-6.827 0-13.654-6.826-13.654-13.653v-27.307c0-6.826 6.827-13.653 13.654-13.653H880.64c6.827 0 13.653 6.827 13.653 13.653v29.583c0 6.826-4.55 11.377-13.653 11.377zm0 0\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"tag\",\n  \"use\": \"tag-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"tag\\\"><path d=\\\"M384 977.152c-20.531 0-39.834-7.987-54.323-22.426L69.274 694.323c-14.49-14.49-22.426-33.74-22.426-54.323s7.987-39.834 22.426-54.323l439.603-439.603c24.934-24.935 70.246-43.725 105.523-43.725h230.4c42.342 0 76.8 34.457 76.8 76.8v230.4c0 35.225-18.79 80.589-43.674 105.523L438.323 954.675c-14.49 14.49-33.74 22.426-54.323 22.426zM614.4 153.6c-21.248 0-54.272 13.67-69.274 28.723L105.523 621.926c-4.813 4.813-7.424 11.213-7.424 18.125s2.663 13.312 7.424 18.074l260.403 260.403c4.813 4.813 11.213 7.424 18.125 7.424s13.312-2.662 18.125-7.424l439.603-439.603c15.002-15.002 28.723-48.077 28.723-69.325V179.2c0-14.131-11.468-25.6-25.6-25.6h-230.4z\\\" /><path d=\\\"M742.4 358.4c-42.342 0-76.8-34.458-76.8-76.8s34.458-76.8 76.8-76.8 76.8 34.458 76.8 76.8-34.458 76.8-76.8 76.8zm0-102.4c-14.131 0-25.6 11.469-25.6 25.6s11.469 25.6 25.6 25.6 25.6-11.469 25.6-25.6-11.469-25.6-25.6-25.6z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React from 'react';\r\nimport classnames from 'classnames';\r\nlet importAll = (requireContext: __WebpackModuleApi.RequireContext) => requireContext.keys().forEach(requireContext);\r\ntry {importAll(require.context('icons', true, /\\.svg$/));} catch (error) {console.log(error);}\r\ntype Props = {\r\n    name?: string\r\n} & React.SVGAttributes<SVGElement>\r\nconst Icon = (props:Props) => {\r\n    const {name,children,className,...rest} = props\r\n    return (\r\n        <svg className={classnames('icon',className)} {...rest}>\r\n           {props.name&&<use xlinkHref={'#'+props.name}></use>}\r\n        </svg>\r\n    )\r\n}\r\nexport default Icon;","import styled from \"styled-components\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport Icon from \"./Icon\";\r\n\r\n\r\nconst NavWrapper = styled.nav`\r\n  background: white;\r\n  line-height: 24px;\r\n  box-shadow: 0 0 3px rgba(0,0,0,0.25);\r\n  > ul {\r\n    display:flex;\r\n    > li{\r\n      width: 33.3333%;\r\n      text-align:center;\r\n      > a{\r\n        display: flex;\r\n        flex-direction: column;\r\n        padding: 4px 0;\r\n        justify-content: center;\r\n        align-items: center;\r\n        .icon{\r\n          width: 24px;\r\n          height: 24px;\r\n        }\r\n        &.selected{\r\n          color: red;\r\n          .icon{\r\n            fill: red;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\nconst Nav = ()=> {\r\n    return (\r\n       <NavWrapper>\r\n           <ul>\r\n               <li>\r\n                   <NavLink to=\"/tags\" activeClassName=\"selected\">\r\n                       <Icon name=\"tag\"/>\r\n                       标签页\r\n                   </NavLink>\r\n               </li>\r\n               <li>\r\n                   <NavLink to=\"/money\" activeClassName=\"selected\">\r\n                       <Icon name=\"money\"/>\r\n                       记账页\r\n                   </NavLink>\r\n               </li>\r\n               <li>\r\n                   <NavLink to=\"/statistics\" activeClassName=\"selected\">\r\n                       <Icon name=\"statics\"/>\r\n                       统计页\r\n                   </NavLink>\r\n               </li>\r\n           </ul>\r\n       </NavWrapper>\r\n    )\r\n}\r\nexport  default  Nav;","import styled from \"styled-components\";\r\nimport React,{useEffect,useRef} from 'react';\r\nimport Nav from \"./Nav\";\r\nconst Wrapper = styled.div`\r\n  height: 100vh;\r\n  display:flex;\r\n  flex-direction: column;\r\n`;\r\nconst Main = styled.div`\r\n  flex-grow: 1;\r\n  overflow: auto;\r\n`;\r\ntype Props = {\r\n  className?: string;\r\n  scrollTop?: number;\r\n}\r\nconst Layout: React.FC<Props> = (props) => {\r\n  const mainRef = useRef<HTMLDivElement>(null);\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      if (!mainRef.current) {return;}\r\n      console.log(props.scrollTop);\r\n      mainRef.current.scrollTop = props.scrollTop!;\r\n      console.log(mainRef.current.scrollTop);\r\n    }, 0);\r\n  }, [props.scrollTop]);\r\n  return (\r\n    <Wrapper>\r\n        <Main ref={mainRef} className={props.className} data-x={'feank'}>\r\n            {props.children}\r\n        </Main>\r\n        <Nav/>\r\n    </Wrapper>\r\n)\r\n}\r\nLayout.defaultProps = {\r\n  scrollTop:0\r\n}\r\nexport default Layout;","let id = parseInt(window.localStorage.getItem('idMax') || '0');\r\nconst createId =():number => {\r\n    id +=1;\r\n    window.localStorage.setItem('idMax',JSON.stringify(id))\r\n    return id;\r\n};\r\nexport {createId}","import {useEffect,useRef} from 'react';\r\nconst useUpdate = (fn: () => void,dependency: any[]) => {\r\n    const count =useRef(0);\r\n    useEffect(() => {\r\n        count.current += 1;\r\n    })\r\n    useEffect(() => {\r\n        if(count.current >1) {\r\n            fn()\r\n        }\r\n    },[fn,dependency]);\r\n}\r\nexport {useUpdate}","import {useEffect,useState} from 'react';\r\nimport {createId} from 'lib/createId'\r\nimport {useUpdate} from './useUpdate'\r\n\r\nconst useTags = () => {\r\n    // const [tags,setTags] = useState<{id:number;name: string}[]>(defaultTags);\r\n    const [tags,setTags] = useState<{id:number;name: string}[]>([]);\r\n    useEffect(()=>{\r\n      let localTags =JSON.parse(window.localStorage.getItem('tags') || '[]')\r\n      if (localTags.length === 0) {\r\n          localTags = [\r\n            { id:createId(),name: '衣'},\r\n            { id:createId(),name: '食'},\r\n            { id:createId(),name: '住'},\r\n            { id:createId(),name: '行'}\r\n          ]\r\n      }\r\n       setTags(localTags)\r\n    },[]);\r\n   useUpdate(() => {window.localStorage.setItem('tags',JSON.stringify(tags))},tags);\r\n    const findTag = (id: number) => tags.filter(tag => tag.id === id)[0];\r\n    const findTagIndex = (id: number) => {\r\n        let result = -1;\r\n        for (let i=0; i<tags.length; i++){\r\n            if(tags[i].id === id) {\r\n                result = i;\r\n                break;\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    // const updateTag = (id: number,obj: {name: string}) => {\r\n    //     const index = findTagIndex(id);\r\n    //     const tagsClone = JSON.parse(JSON.stringify(tags))\r\n    //     tagsClone.splice(index,1,{id: id,name:obj.name})\r\n    //     setTags(tagsClone)\r\n    // }\r\n    const updateTag = (id: number,{name}: {name: string}) => {\r\n        setTags(tags.map(tag => tag.id === id ? {id,name:name} : tag));\r\n    }\r\n    // const deleteTag = (id: number) => {\r\n    //     const index = findTagIndex(id)\r\n    //     const tagsClone = JSON.parse(JSON.stringify(tags));\r\n    //     tagsClone.splice(index,1)\r\n    //     setTags(tagsClone)\r\n    // }\r\n    const deleteTag = (id: number) => {\r\n        setTags(tags.filter(tag => tag.id !== id))\r\n    }\r\n    const addTag =() => {\r\n        const tagName = window.prompt('新标签的名称为');\r\n        console.log(tagName);\r\n        if(!tagName){\r\n            window.alert('标签名不能为空')\r\n        }else{\r\n          setTags([...tags,{id: createId(),name: tagName}])\r\n\r\n        }\r\n      }\r\n    const getName = (id:number) => {\r\n        const tag = tags.filter(t=>t.id===id)[0];\r\n        return tag ? tag.name : '';\r\n    }\r\n    return {tags,setTags,findTag,updateTag,findTagIndex,deleteTag,addTag,getName};\r\n}\r\nexport {useTags};","import styled from 'styled-components'\r\nconst Button = styled.button`\r\n  font-size: 18px;\r\n  border: none;\r\n  padding:8px 12px;\r\n  background: #f60;\r\n  border-radius:4px;\r\n  color:white;\r\n`;\r\nexport {Button}","import styled from 'styled-components'\r\n\r\nconst Center = styled.div`\r\n  display:flex;\r\n  justify-content:center;\r\n  align-items: center;\r\n  flex-direction:column;\r\n`\r\nexport {Center}","import styled from 'styled-components';\r\nconst Space = styled.div`\r\n  height: 16px;\r\n`;\r\nexport {Space}","import Layout from \"components/Layout\";\nimport React from \"react\";\nimport {useTags} from 'hooks/useTags';\nimport Icon from 'components/Icon';\nimport styled from 'styled-components';\nimport {Link} from 'react-router-dom';\nimport {Button} from 'components/Button';\nimport {Center} from 'components/Center';\nimport {Space} from 'components/Space'\n\nconst TagList = styled.ol`\n  font-size: 16px;\n  background: white;\n  >li{\n      border-bottom:1px solid #d5d5d9;\n      line-height:20px;\n      margin-left:16px;\n      > a{\n        padding:12px 16px 12px 0;\n        display:flex;\n        justify-content:space-between;\n        align-items:center;\n      }\n  }\n`;\n\nfunction Tags() {\n    const {tags,addTag} = useTags()\n    return (\n        <Layout>\n            <TagList>\n             {tags.map(tag=>\n             <li key={tag.id}>\n               <Link to={'/tags/'+tag.id}>\n                 <span className=\"oneLine\">{tag.name}</span>                \n                 <Icon name=\"right\"/>\n                </Link>\n            </li>)}\n            </TagList>\n            <Center>\n                <Space/>\n                <Space/>\n                <Space/>\n                <Button onClick={addTag}>新增标签</Button>\n            </Center>\n        </Layout>\n    );\n}\nexport default  Tags;","import styled from \"styled-components\";\r\nimport React from \"react\";\r\nimport {useTags} from 'hooks/useTags';\r\n\r\nconst Wrapper = styled.section`\r\n  background: #fff;\r\n  padding: 12px 16px;\r\n  flex-grow: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-end;\r\n  align-items: flex-start;\r\n  > ol {\r\n    margin: 0 -12px;\r\n    > li{\r\n      background: #D9D9D9;\r\n      border-radius: 18px;\r\n      display: inline-block;\r\n      padding: 3px 18px;\r\n      font-size: 14px;\r\n      margin: 8px 12px;\r\n      &.selected{\r\n        background: #f60;\r\n      }\r\n    }\r\n  }\r\n  > button {\r\n    background: none;\r\n    border: none;\r\n    padding: 2px 4px;\r\n    border-bottom: 1px solid #333;\r\n    color: #666;\r\n    margin-top: 8px;\r\n  }\r\n`;\r\ntype Props ={\r\n  value: number[];\r\n  onChange: (selected: number[]) => void\r\n}\r\nconst TagsSection: React.FC<Props> = (props) => {\r\n    // const [tags,setTags] = useState<string[]>(['衣','食','住','行']);\r\n    const {tags,addTag} = useTags();\r\n    const selectedTagIds = props.value\r\n\r\n    const onToggleTag = (tagId: number) => {\r\n      const index= selectedTagIds.indexOf(tagId)\r\n      if(index>=0){\r\n       props.onChange(selectedTagIds.filter(t=>t !== tagId))       \r\n      }else{\r\n        props.onChange([...selectedTagIds,tagId])\r\n      }\r\n    }\r\n\r\n    return (\r\n        <Wrapper>\r\n            <ol>\r\n                {tags.map(tag=><li key={tag.id} onClick = {()=>{onToggleTag(tag.id)}} className = {selectedTagIds.indexOf(tag.id) >= 0 ? 'selected' : ''}>{tag.name}</li>)}\r\n            </ol>\r\n            <button onClick={addTag}>新增标签</button>\r\n        </Wrapper>\r\n    )\r\n}\r\n\r\n\r\nexport {TagsSection}","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Label = styled.label`\r\n  display: flex;\r\n  align-items: center;\r\n  > span {\r\n    margin-right: 16px;\r\n    white-space: nowrap;\r\n  }\r\n  > input {\r\n    display: block;\r\n    width: 100%;\r\n    height: 44px;\r\n    background: none;\r\n    border: none;\r\n  }\r\n`;\r\ntype Props = {\r\n    label: string;\r\n  } & React.InputHTMLAttributes<HTMLInputElement>;\r\n  const Input: React.FC<Props> = (props) => {\r\n    const {label, children, ...rest} = props;\r\n    return (\r\n      <Label>\r\n        <span>{props.label}</span>\r\n        <input {...rest} />\r\n      </Label>\r\n    );\r\n  };\r\n  \r\n  export {Input};","import styled from \"styled-components\";\r\nimport React,{ChangeEventHandler} from \"react\";\r\nimport {Input} from '../components/Input'\r\n\r\nconst Wrapper = styled.section`\r\n  background: #f5f5f5;\r\n  padding: 14 16px;\r\n  font-size: 14px;\r\n`;\r\n\r\ntype Props = {\r\n  value: string;\r\n  onChange: (value: string)=>void\r\n}\r\n\r\nconst NotesSection: React.FC<Props> = (props) => {\r\n  // const note = props.value\r\n  //  const refInput = useRef<HTMLInputElement>(null);\r\n  //  const onBlur = () => {\r\n  //    if(refInput.current !==null){\r\n  //         props.onChange(refInput.current.value);\r\n  //    }\r\n  //  }\r\n  const note = props.value;\r\n  const onChange: ChangeEventHandler<HTMLInputElement> = (e) => {\r\n    props.onChange(e.target.value);\r\n  };\r\n    return (\r\n        <Wrapper>\r\n  <Input label=\"备注\" type=\"text\" value={note} onChange={onChange} placeholder=\"请填写备注\"/>\r\n        </Wrapper>\r\n    )\r\n}\r\nexport  {NotesSection}","import styled from \"styled-components\";\r\nimport React,{useState} from \"react\";\r\n\r\nconst Wrapper= styled.section`\r\n  font-size: 24px;\r\n  > ul{\r\n    display:flex;\r\n    > li {\r\n      width: 50%;\r\n      text-align:center;\r\n      padding: 16px 0;\r\n      position:relative;\r\n      &.selected::after{\r\n      content: '';\r\n        display:block;\r\n        height: 3px;\r\n        background:#333;\r\n        position:absolute;\r\n        bottom:0;\r\n        width: 100%;\r\n        left: 0;\r\n      }\r\n    }\r\n  }\r\n`;\r\ntype Props ={\r\n  value: '-'|'+',\r\n  onChange: (value:'-'|'+')=>void\r\n}\r\nconst CategorySection: React.FC<Props> = (props) => {\r\nconst categoryMap = {'-': '支出','+': '收入'};\r\nconst [categoryList] = useState<('+' | '-')[]>(['-','+']);\r\n// const [category,setCategory] = useState('-');\r\nconst category = props.value\r\n    return (\r\n     <Wrapper>\r\n         <ul>\r\n           {categoryList.map(c=><li key={c} onClick={()=>{props.onChange(c)}} className={category === c? 'selected' : ''}>{categoryMap[c]}</li>)}\r\n         </ul>\r\n     </Wrapper>\r\n    )\r\n}\r\nexport  {CategorySection};","import styled from \"styled-components\";\r\nimport React,{useState} from \"react\";\r\n\r\nconst Wrapper = styled.section`\r\n  display:flex;\r\n  flex-direction: column;\r\n  > .output{\r\n    background:white;\r\n    font-size: 36px;\r\n    line-height: 72px;\r\n    text-align:right;\r\n    padding: 0 16px;\r\n    box-shadow: inset 0 -5px 5px -5px rgba(0,0,0,0.25),\r\n    inset 0 5px 5px -5px rgba(0,0,0,0.25);\r\n  }\r\n  > .pad{\r\n    > button{\r\n      font-size: 18px; float: left; width: 25%; height: 64px; border: none;\r\n      &.ok{ height: 128px; float: right; }\r\n      &.zero{ width: 50%; }\r\n      &:nth-child(1){\r\n        background:#f2f2f2;\r\n      }\r\n      &:nth-child(2),\r\n      &:nth-child(5) {\r\n        background:#E0E0E0;\r\n      }\r\n      &:nth-child(3),\r\n      &:nth-child(6),\r\n      &:nth-child(9) {\r\n        background:#D3D3D3;\r\n      }\r\n      &:nth-child(4),\r\n      &:nth-child(7),\r\n      &:nth-child(10) {\r\n        background:#C1C1C1;\r\n      }\r\n      &:nth-child(8),\r\n      &:nth-child(11),\r\n      &:nth-child(13) {\r\n        background:#B8B8B8;\r\n      }\r\n      &:nth-child(12) {\r\n        background:#9A9A9A;\r\n      }\r\n      &:nth-child(14) {\r\n        background:#A9A9A9;\r\n      }\r\n    }\r\n  }\r\n`;\r\ntype Props = {\r\n  value : number;\r\n  onChange: (value: number) => void;\r\n  onOK?: ()=>void;\r\n}\r\nconst NumberPadSection: React.FC<Props> = (props) => {\r\n    // const [output,_setOutput] = useState('0')\r\n    // const output = props.value.toString();\r\n    const [output,_setOutput] = useState(props.value.toString());\r\n    const setOutput = (output: string) => {\r\n      let newOutput: string;\r\n       if(output.length>16){\r\n         newOutput = output.slice(0,16)\r\n       }else if(output.length === 0){\r\n         newOutput = '0'\r\n       }else {\r\n        newOutput = output;\r\n       }\r\n       _setOutput(newOutput)\r\n       props.onChange(parseFloat(newOutput))\r\n    }\r\n    const onClickButtonWrapper = (e: React.MouseEvent) =>{\r\n     const text = (e.target as HTMLInputElement).textContent;\r\n     if(text === null) {return}\r\n     switch (text) {\r\n        case '0' :\r\n        case '1' :\r\n        case '2' :\r\n        case '3' : \r\n        case '4' :\r\n        case '5' :\r\n        case '6' :  \r\n        case '7' :\r\n        case '8' :\r\n        case '9' :                                \r\n        if (output === '0') {\r\n          setOutput(text) \r\n        } else {\r\n          setOutput (output + text);\r\n        }\r\n         break;\r\n         case '.' :   \r\n         if(output.indexOf('.')>=0) {return ;}\r\n         setOutput(output + '.')\r\n         break; \r\n        case '删除':\r\n          if(output.length === 1) {\r\n            setOutput('');\r\n          }else {\r\n            setOutput(output.slice(0,-1))\r\n          }\r\n          break;\r\n        case '清空':\r\n          setOutput('')\r\n          break;\r\n        case 'OK' :\r\n          if(props.onOK){\r\n            props.onOK();\r\n          }\r\n          break;\r\n     }\r\n    }\r\n    return (\r\n        <Wrapper>\r\n                <div className=\"output\">\r\n                  {output}\r\n                </div>\r\n                <div className=\"pad clearfix\" onClick = {onClickButtonWrapper}>\r\n                    <button>1</button>\r\n                    <button>2</button>\r\n                    <button>3</button>\r\n                    <button>删除</button>\r\n                    <button>4</button>\r\n                    <button>5</button>\r\n                    <button>6</button>\r\n                    <button>清空</button>\r\n                    <button>7</button>\r\n                    <button>8</button>\r\n                    <button>9</button>\r\n                    <button className=\"ok\">OK</button>\r\n                    <button className=\"zero\">0</button>\r\n                    <button className=\"dot\">.</button>\r\n                </div>\r\n        </Wrapper>\r\n    )\r\n}\r\nexport  {NumberPadSection}","import {useEffect,useState} from 'react';\r\nimport {useUpdate} from './useUpdate';\r\n\r\nexport type RecordItem = {\r\n    tagIds: number[]\r\n    note: string\r\n    category: '+' | '-'\r\n    amount: number\r\n    createAt: string\r\n}\r\ntype newRecordItem = Omit<RecordItem,'createAt'>//Omit: 可以忽略createAt\r\nconst useRecords = () => {\r\n    const [records,setRecords] = useState<RecordItem[]>([]);\r\n    useEffect (()=>{\r\n     setRecords(JSON.parse(window.localStorage.getItem('records') || '[]'))\r\n    },[]);\r\n    useUpdate(()=>{\r\n      window.localStorage.setItem('records',JSON.stringify(records))\r\n    },records);\r\n    const addRecord = (newRecord: newRecordItem) => {\r\n        if (newRecord.amount <= 0) {\r\n            alert('请输入金额');\r\n            return false;\r\n        }\r\n        if(newRecord.tagIds.length === 0){\r\n            alert('请选择标签')\r\n            return false;\r\n        }\r\n        const record = {...newRecord,createAt: (new Date()).toISOString()}\r\n        setRecords([...records,record]);\r\n        return true;\r\n    }\r\n    return {records,addRecord}\r\n}\r\nexport {useRecords}","import Layout from \"../components/Layout\";\r\nimport React,{useState} from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {TagsSection} from \"../Money/TagsSection\";\r\nimport {NotesSection} from \"../Money/NotesSection\";\r\nimport {CategorySection} from \"../Money/CategorySection\";\r\nimport {NumberPadSection} from \"../Money/NumberPadSection\";\r\nimport {useRecords} from \"hooks/useRecords\"\r\n\r\nconst CategoryWrapper = styled.div`\r\n  background-color: #c4c4c4;\r\n`;\r\n\r\nconst MyLayout = styled(Layout)`\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\ntype Category = '-' | '+'\r\n\r\nconst defaultFormDate = {\r\n  tagIds: [] as number[],\r\n  note: '',\r\n  category: '-' as Category,\r\n  amount: 0\r\n}\r\n\r\nfunction Money() {\r\n  const [selected,setSelected] = useState(defaultFormDate)\r\n  const {addRecord} = useRecords();\r\n  const submit = () => {\r\n    if(addRecord(selected)){\r\n      alert('保存成功');\r\n      setSelected(defaultFormDate) //保存成功后置空\r\n    }\r\n  }\r\n    return (\r\n        <MyLayout scrollTop={999}>\r\n           <CategoryWrapper>\r\n           <CategorySection value={selected.category} onChange={(category)=>setSelected({...selected,category:category})}/>\r\n           </CategoryWrapper>\r\n           <TagsSection value={selected.tagIds} onChange={(tagIds)=>setSelected({...selected,tagIds:tagIds})}/>\r\n           <NotesSection value={selected.note} onChange={(note)=>setSelected({...selected,note:note})}/>\r\n           <NumberPadSection value={selected.amount} onChange={(amount)=>setSelected({...selected,amount:amount})} onOK = {submit}/>\r\n        </MyLayout>\r\n    );\r\n}\r\nexport default Money;","import Layout from \"../components/Layout\";\r\nimport React,{ReactNode,useState} from \"react\";\r\nimport styled from 'styled-components';\r\nimport {CategorySection} from \"../Money/CategorySection\";\r\nimport {RecordItem, useRecords} from 'hooks/useRecords'\r\nimport {useTags} from 'hooks/useTags';\r\nimport day from 'dayjs'\r\n\r\nconst CategoryWrapper = styled.div`\r\n  background: #c4c4c4;\r\n`\r\nconst Item = styled.div`\r\n  display:flex;\r\n  justify-content: space-between;\r\n  background: white;\r\n  font-size: 18px;\r\n  line-height: 20px;\r\n  padding: 10px 16px;\r\n  > .note{\r\n    margin-right: auto;\r\n    margin-left: 16px;\r\n    color: #999;\r\n  }\r\n`;\r\nconst Header =styled.h3`\r\n  font-size:18px;\r\n  line-height: 20px;\r\n  padding: 10px 16px;\r\n`\r\nconst NoRecord = styled.h3`\r\n  text-align:center;\r\n  margin-top:40px;\r\n`\r\n\r\nfunction Statistics() {\r\n    const [category,setCategory] = useState <'-'|'+'>('-');\r\n    const {records} = useRecords();\r\n    const {getName} = useTags()\r\n    const hash: {[K: string]: RecordItem[]} = {}\r\n    const selectedRecords = records.filter(r => r.category === category);\r\n    selectedRecords.forEach(r=>{\r\n        const key = day(r.createAt).format('YYYY-MM-DD')\r\n        if(!(key in hash)){\r\n            hash[key] = []\r\n        }\r\n        hash[key].push(r)\r\n        // console.log(Object.keys(hash));\r\n        // console.log('--------------');\r\n        // console.log(Object.values(hash));\r\n    })\r\n    const array = Object.entries(hash).sort((a,b) => {\r\n        if(a[0] === b[0]) return 0;\r\n        if(a[0] > b[0]) return -1;\r\n        if(a[0] < b[0]) return 1;\r\n        return 0;\r\n    })\r\n    console.log(array);\r\n    console.log(records);\r\n    \r\n    const collect= <div>\r\n            {array.map(([date,records]) => <div>\r\n                <Header>{date}</Header>\r\n            <div>\r\n                {records.map(r => {\r\n                return <Item>\r\n                    <div className=\"tags oneLine\">\r\n                        {r.tagIds\r\n                        .map(tagId => <span key={tagId}>{getName(tagId)}</span>)\r\n                        .reduce((result,span,index,array) => \r\n                            result.concat(index < array.length-1 ? [span,','] : [span]),[] as ReactNode[]\r\n                        )\r\n                        }\r\n                    </div>\r\n                    {r.note && <div className=\"note\">\r\n                       {r.note}    \r\n                    </div>}\r\n                    <div className=\"amount\">￥{r.amount}</div>\r\n                    {/* {day(r.createAt).format('YYYY年MM月DD日')} */}\r\n                </Item>\r\n                })}\r\n            </div>\r\n            </div>)}\r\n\r\n    </div>\r\n    \r\n    return (\r\n        <Layout>\r\n            <CategoryWrapper>\r\n            < CategorySection value={category} onChange={(value)=>setCategory(value)}/>\r\n            </CategoryWrapper>\r\n            {records.length === 0 ? <NoRecord>当前没有记账记录</NoRecord>: collect}\r\n\r\n        </Layout>\r\n    );\r\n}\r\nexport default Statistics;","import React from \"react\";\r\n\r\nfunction NoMatch() {\r\n    return (\r\n        <div>页面不存在!</div>\r\n    );\r\n}\r\nexport  default  NoMatch;","import React from \"react\";\r\nimport { useTags } from \"../hooks/useTags\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport Layout from \"components/Layout\";\r\nimport Icon from \"components/Icon\";\r\nimport { Button } from \"components/Button\";\r\nimport styled from \"styled-components\";\r\nimport { Input } from \"components/Input\";\r\nimport { Center } from \"components/Center\";\r\nimport { Space } from \"components/Space\";\r\n\r\nconst Topbar = styled.header`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  line-height: 20px;\r\n  padding: 14px;\r\n  background: white;\r\n`;\r\nconst InputWrapper = styled.div`\r\n  background: white;\r\n  padding: 0 16px;\r\n  margin-top: 8px;\r\n`;\r\ntype Params = {\r\n  id: string;\r\n};\r\nconst Tag: React.FC = (props) => {\r\n  const { findTag, updateTag, deleteTag } = useTags();\r\n   let { id: idString } = useParams<Params>();\r\n  const tag = findTag(parseInt(idString));\r\n  const tagContent = (tag: { id: number; name: string }) => (\r\n    <div>\r\n      <InputWrapper>\r\n        <Input\r\n          label=\"标签名\"\r\n          type=\"text\"\r\n          placeholder=\"标签名\"\r\n          value={tag.name}\r\n          onChange={(e) => {\r\n            updateTag(tag.id, { name: e.target.value });\r\n          }}\r\n        />\r\n      </InputWrapper>\r\n      <Center>\r\n        <Space />\r\n        <Space />\r\n        <Space />\r\n        <Button\r\n          onClick={() => {\r\n            deleteTag(tag.id);\r\n          }}\r\n        >\r\n          删除标签\r\n        </Button>\r\n      </Center>\r\n    </div>\r\n  );\r\n  const history = useHistory()\r\n  const onClickBack = () => {\r\n   history.goBack()\r\n  };\r\n  return (\r\n    <Layout>\r\n      <Topbar>\r\n        <Icon name=\"left\" onClick={onClickBack} />\r\n        <div>编辑标签</div>\r\n        <Icon />\r\n      </Topbar>\r\n      {tag ? tagContent(tag) : <Center>tag不存在</Center>}\r\n    </Layout>\r\n  );\r\n};\r\nexport { Tag };\r\n","import React from 'react';\nimport {HashRouter as Router, Switch, Route, Redirect} from 'react-router-dom';\nimport Tags from './views/Tags';\nimport Money from \"./views/Money\";\nimport Statistics from \"./views/Statistics\";\nimport NoMatch from \"./views/NoMatch\";\nimport styled from \"styled-components\";\nimport {Tag} from './views/Tag';\n\nconst AppWrapper =styled.div`\n  color: #333;\n  max-width:450px;\n  margin: 0 auto;\n`\nfunction App() {\n    return (\n        <AppWrapper>\n        <Router>\n            <Switch>\n                <Route exact path=\"/tags\">\n                    <Tags/>\n                </Route>\n                <Route exact path=\"/tags/:id\">\n                    <Tag/>\n                </Route>\n                <Route exact path=\"/money\">\n                    <Money/>\n                </Route>\n                <Route exact path=\"/statistics\">\n                    <Statistics/>\n                </Route>\n                <Redirect exact from=\"/\" to=\"/money\"/>\n                <Route path=\"*\">\n                    <NoMatch/>\n                </Route>\n            </Switch>\n        </Router>\n        </AppWrapper>\n    );\n}\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\nwindow.onload=function(){setTimeout(function() {window.scrollTo(0, 1000)}, 0)}"],"sourceRoot":""}